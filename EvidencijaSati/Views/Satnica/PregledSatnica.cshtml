@model EvidencijaSati.Models.ViewModels.PregledSatnicaVM

<div class="container">
	 <div class="row" style="margin: 2vh 0;">
	 	 <div class="col">
				<h3>Showing timetables waiting for approval</h3>
			 </div>
	 </div>


	  @foreach (var timClan in Model.TimoviClanovi)
	  {
			<div class="row">
				 <div class="card" style="width: 100%; margin: 2vh 0;">
				 	 <div class="card-header">
						  @timClan.Tim.Naziv
					 </div>
					 <div class="card-body">
								  
						  <div class="card">
						  	 	<div class="card-header">
						  	 		 <div class="row">
						  	 	 		  <div class="col text-center">Datum</div>
						  	 	 		  <div class="col text-center">Djelatnik</div>
						  	 	 		  <div class="col text-center">Redovni sati</div>
						  	 	 		  <div class="col text-center">Prekovremeni sati</div>
						  	 	 		  <div class="col text-center"></div>
						  	 		 </div>
						  	 	</div>
								<div class="card-body">

						  	 		 @foreach (var s in Model.Satnice.Where(s => timClan.Djelatnici.Any(d => d.IDDjelatnik == (s.DjelatnikID))))
									 {
						  	 		 <div class="row">
						  	 	 		  <div class="card card-body">
						  	 	 	 			<div class="row">
						  	 	 	 	 	 		 <div class="col text-center">@s.Datum.ToString().Split(' ')[0]</div>
						  	 	 	 				 <div class="col text-center">@timClan.Djelatnici.Single(d => d.IDDjelatnik == s.DjelatnikID)</div>
						  	 	 	 				 <div class="col text-center">@s.TotalRedovni</div>
						  	 	 	 				 <div class="col text-center">@s.TotalPrekovremeni</div>
						  	 	 	 				 <div class="col text-center">
														  <a href="#"
															  class="btn btn-secondary">
																<i class="fa fa-info"></i>
														  </a>
													 </div>
						  	 	 				</div>
						  	 			  </div>
						  			 </div>
									 }

								</div>
						  </div>
					 </div>
				 </div>
		   </div>
	  }

</div>
